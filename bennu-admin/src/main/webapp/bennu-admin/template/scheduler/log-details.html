<h3>
	Task Log
	<small>{{log.taskName}}</small>

	<div class="pull-right btn-group">
		<a ui-sref="scheduler.logs({type: log.taskName})" class="btn btn-default">Â« Back</a>
		<button class="btn btn-default" ng-click="refreshLog()"><i class="glyphicon glyphicon-refresh"/></button>
	</div>

</h3>

<table class="table">
	<tbody>
		<tr>
			<td>TaskName</td>
			<td>{{log.taskName}}</td>
		</tr>
		<tr>
			<td>Start Time</td>
			<td>{{(log.start | date:'dd MMM yyyy HH:mm:ss') || 'N/A'}}</td>
		</tr>
		<tr>
			<td>End Time</td>
			<td>{{(log.end | date:'dd MMM yyyy HH:mm:ss') || 'N/A'}}</td>
		</tr>
		<tr ng-if="log.user">
			<td>User</td>
			<td>{{log.user}}</td>
		</tr>
		<tr ng-if="log.hostname">
			<td>Host</td>
			<td>{{log.hostname}}</td>
		</tr>
		<tr>
			<td>Status</td>
			<td ng-if="log.end">
				<i class="glyphicon glyphicon-ok" ng-if="log.state == 'SUCCESS'" />
				<i class="glyphicon glyphicon-remove" ng-if="log.state == 'FAILURE'" />
			</td>
			<td ng-if="!log.end">
				<i class="glyphicon glyphicon-play" />
			</td>
		</tr>
		<tr ng-show="log.code">
			<td>Code</td>
			<td>
				<div class="control-group">
					<div class="controls">
						<div ui-codemirror="{onLoad: codemirrorLoaded}" ui-codemirror-opts="editorOptions" ng-model="log.code"></div>
					</div>
				</div>
				<div class="control-group">
					<div class="controls">
						<button class="btn btn-success" ng-click="load()">Load</button>
					</div>
				</div>
			</td>
		</tr>
		<tr ng-if="log.files">
			<td>Files</td>
			<td>
				<ul>
					<li ng-repeat="file in log.files">
						<a href="{{contextPath}}/api/bennu-scheduler/log/{{log.taskName}}/{{log.id}}/{{file}}">{{file}}</a>
					</li>
				</ul>
			</td>
		</tr>
		<tr ng-if="log.stackTrace">
			<td>Stacktrace</td>
			<td>
				<pre>{{log.stackTrace}}</pre>
			</td>
		</tr>
			<tr ng-if="logs">
				<td>Log</td>
				<td>
					<pre>{{logs}}</pre>
				</td>
			</tr>
	</tbody>
</table>
