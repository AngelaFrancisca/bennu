<style>
	.table {
		margin-bottom: 0px;
	}
</style>
<h3>
	Custom Task Logs
	<small>{{type}}</small>

	<div class="pull-right btn-group">
		<a ui-sref="scheduler.custom({type: ''})" class="btn btn-default" ng-if="type">Â« Back</a>
		<button class="btn btn-default" ng-click="reload()"><i class="glyphicon glyphicon-refresh"/></button>
	</div>
</h3>

Search: <input type="text" ng-model="filter"/>

<a ui-sref="scheduler.custom-new" class="btn btn-success">Add Custom Task</a>
<table class="table table-condensed">
	<thead>
		<tr>
			<th>Task Name</th>
			<th>Start</th>
			<th>End</th>
			<th>Status</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="log in logs | orderBy:'-start' | filter: filter">
			<td>{{log.taskName}}</td>
			<td>{{(log.start | date:'dd MMM yyyy HH:mm:ss') || 'N/A'}}</td>
			<td>{{(log.end | date:'dd MMM yyyy HH:mm:ss') || 'N/A'}}</td>
			<td ng-if="log.end">
				<i class="glyphicon glyphicon-ok" ng-if="log.success" />
				<i class="glyphicon glyphicon-remove" ng-if="!log.success" />
			</td>
			<td ng-if="!log.end">
				<i class="glyphicon glyphicon-play" />
			</td>
			<td>
				<a ui-sref="scheduler.custom-log-details({type: log.taskName, id: log.id})" class="btn btn-success">Details</a>
				<a ui-sref="scheduler.custom({type: log.taskName})" class="btn btn-success" ng-if="!type">More</a>
			</td>
		</tr>
	</tbody>
</table>
